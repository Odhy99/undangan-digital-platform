import{bd as b,b1 as r,b5 as y,b7 as j,b8 as g,b9 as v,ba as N,bb as a}from"./index-bb2b9a84.js";const M=({formData:l,handleInputChange:c,music:d})=>{const i=Array.isArray(d)?d:[],p=i.filter(e=>e.category==="quran"),o=i.filter(e=>e.category==="nasyid"),[n,u]=b.useState(null),s=b.useRef({}),x=e=>{n&&s.current[n]&&(s.current[n].pause(),s.current[n].currentTime=0),u(e),setTimeout(()=>{s.current[e]&&(s.current[e].currentTime=0,s.current[e].play())},100)},h=e=>{s.current[e]&&(s.current[e].pause(),s.current[e].currentTime=0),u(null)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(y,{htmlFor:"selectedMusic",children:"Pilih Musik Latar"}),r.jsxs(j,{value:(l==null?void 0:l.selectedMusic)||"none",onValueChange:e=>c&&c("selectedMusic",e),children:[r.jsx(g,{children:r.jsx(v,{placeholder:"Pilih musik untuk undangan"})}),r.jsxs(N,{children:[r.jsx(a,{value:"none",children:"Tanpa Musik"}),p.length>0&&r.jsxs(r.Fragment,{children:[r.jsx(a,{disabled:!0,value:"quran-header",className:"font-bold text-gray-500",children:"--- Ayat Al-Qur'an ---"}),p.map(e=>r.jsxs("div",{className:"flex items-center gap-2 px-2 py-1",children:[r.jsx(a,{value:e.id,className:"flex-1",children:e.title}),n===e.id?r.jsx("button",{type:"button",className:"text-purple-600 hover:text-purple-900 text-xs border border-purple-200 rounded px-2 py-1 ml-2",onClick:t=>{t.stopPropagation(),h(e.id)},children:"Stop"}):r.jsx("button",{type:"button",className:"text-purple-600 hover:text-purple-900 text-xs border border-purple-200 rounded px-2 py-1 ml-2",onClick:t=>{t.stopPropagation(),x(e.id)},children:"Play"}),r.jsx("audio",{ref:t=>s.current[e.id]=t,src:e.url,onEnded:()=>u(null)})]},e.id))]}),o.length>0&&r.jsxs(r.Fragment,{children:[r.jsx(a,{disabled:!0,value:"nasyid-header",className:"font-bold text-gray-500",children:"--- Nasyid ---"}),o.map(e=>r.jsxs("div",{className:"flex items-center gap-2 px-2 py-1",children:[r.jsx(a,{value:e.id,className:"flex-1",children:e.title}),n===e.id?r.jsx("button",{type:"button",className:"text-purple-600 hover:text-purple-900 text-xs border border-purple-200 rounded px-2 py-1 ml-2",onClick:t=>{t.stopPropagation(),h(e.id)},children:"Stop"}):r.jsx("button",{type:"button",className:"text-purple-600 hover:text-purple-900 text-xs border border-purple-200 rounded px-2 py-1 ml-2",onClick:t=>{t.stopPropagation(),x(e.id)},children:"Play"}),r.jsx("audio",{ref:t=>s.current[e.id]=t,src:e.url,onEnded:()=>u(null)})]},e.id))]})]})]})]}),(l==null?void 0:l.selectedMusic)&&r.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:r.jsx("p",{className:"text-purple-800",children:"Musik yang dipilih akan diputar otomatis saat undangan dibuka."})})]})};export{M as default};
